<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>CHANDY</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    background: linear-gradient(90deg, #0b0b10,#200b0b);
    margin: 0;
}

/* LOGIN */
#loginView {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
}

#loginView input {
    max-width: 300px;
}

/* FOTO */
.profile-container {
    width: 130px;
    height: 130px;
    margin: 0 auto 20px;
    border-radius: 50%;
    background-image: url("/perfil-de-usuario.png");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

.profile-pic {
    width: 130px;
    height: 130px;
    border-radius: 50%;
    overflow: hidden;
    border: 3px solid #25D366;
    cursor: pointer;
    position: relative;
}

.profile-pic img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.camera-icon {
    position: absolute;
    bottom: 6px;
    right: 6px;
    background: rgba(0,0,0,.6);
    padding: 6px;
    border-radius: 50%;
}

/* LAYOUT */
.whatsapp-layout {
    display: flex;
    height: 100vh;
}

/* SIDEBAR */
.sidebar {
    width: 30%;
    background: #111;
    display: flex;
    flex-direction: column;
}

.sidebar-header {
    padding: 12px;
    display: flex;
    align-items: center;
    gap: 10px;
    background: #202c33;
    color: white;
}

.sidebar-search {
    padding: 8px;
}

#listaUsuarios {
    flex: 1;
    overflow-y: auto;
}

/* CHAT */
.chat-panel {
    height: 50%;
    width: 100%;
    display: flex;
    flex-direction: column;
    background: #0b141a;
}

.chat-header {
    height: 60px;
    padding: 10px;
    background: #202c33;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: white;
}

.chat-header-left {
    display: flex;
    align-items: center;
    gap: 10px;
}

.chat-body {
    flex: 1;
    padding: 10px;
    overflow-y: auto;
}

.chat-input {
    display: flex;
    gap: 8px;
    padding: 10px;
    background: #202c33;
}

/* MENSAJES */
.message {
    display: flex;
    margin-bottom: 8px;
}

.message.me {
    justify-content: flex-end;
}

.message .bubble {
    padding: 8px 12px;
    border-radius: 12px;
    max-width: 70%;
}

.message.me .bubble {
    background: #25D366;
    color: white;
}

.message.other .bubble {
    background: #e4e6eb;
}

.avatar, .user-avatar, .chat-avatar {
    border-radius: 50%;
    object-fit: cover;
}

.avatar {
    width: 32px;
    height: 32px;
}

.user-avatar, .chat-avatar {
    width: 42px;
    height: 42px;
    border: 2px solid #25D366;
}

/* OCULTAR */
.hidden {
    display: none;
}

/* MÃ“VIL */
@media (max-width: 768px) {
    .sidebar, .chat-panel {
        width: 100%;
    }
}



</style>
</head>

<body>


<!-- ðŸŸ¢ LOGIN -->
<div id="loginView" class="text-white text-center">
    <h2 class="mb-4">ðŸ’¬ CHANDY</h2>

    <div class="profile-container">
    <label for="fileCamera" class="profile-pic">
        <img id="previewImg" src="/perfil-de-usuario.png">
        <span class="camera-icon">ðŸ“·</span>
    </label>
    <input id="fileCamera" type="file" accept="image/*" hidden>
    </div>



    <input id="loginNombre" class="form-control mb-3" placeholder="Tu nombre">
    <button id="btnEntrar" class="btn btn-success w-10" onclick="login()" disabled>
    Entrar
</button>


</div>

<!-- ðŸ”µ CHAT -->
<div id="chatView" style="display:none;">
    <div class="whatsapp-layout">

        <!-- ðŸŸ¢ USUARIOS -->
        <div class="sidebar users-panel">

            <div class="sidebar-header">
                <img id="miAvatar" class="user-avatar">
                <span id="usuarioActualLabel"></span>
            </div>

            <div class="sidebar-search">
                <input class="form-control form-control-sm" placeholder="Buscar">
            </div>

            <ul class="list-group list-group-flush" id="listaUsuarios"></ul>
        </div>

        <!-- ðŸ”µ CHAT -->
        <div class="chat-panel hidden">

            <div class="chat-header">
                <div class="chat-header-left">
                    <button class="btn btn-sm btn-outline-secondary" onclick="volverUsuarios()">â¬…</button>
                    <img id="chatAvatar" class="chat-avatar" style="display:none">
                    <div>
                        <div id="chatTitulo">Selecciona un usuario</div>
                        <small id="chatEstado"></small>
                    </div>
                </div>

                <button class="btn btn-sm btn-outline-danger" onclick="cerrarSesion()">Salir</button>
            </div>

            <div class="chat-body" id="chat"></div>

            <div class="chat-input">
                <input id="mensaje" class="form-control" placeholder="Escribe un mensaje">
                <button class="btn btn-success" onclick="enviarMensaje()">Enviar</button>
            </div>

        </div>
    </div>
</div>

<script src="script.js"></script>


</body>
</html>
